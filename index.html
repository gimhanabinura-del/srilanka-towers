<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Wadduwa Tower Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { margin: 0; padding: 0; font-family: sans-serif; }
        #map { height: 100vh; width: 100%; }
        
        /* වගුවේ පෙනුම */
        .tower-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 13px;
        }
        .tower-table th, .tower-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .tower-table th {
            background-color: #d32f2f;
            color: white;
        }
        .tower-table tr:nth-child(even) { background-color: #f2f2f2; }
        .popup-title { font-weight: bold; color: #d32f2f; font-size: 16px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
    </style>
</head>
<body>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // මැප් එක කෙලින්ම වඩුඩුවට (6.6565, 79.9355) සෙට් කර ඇත
        var myMap = L.map('map').setView([6.6565, 79.9355], 15);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap'
        }).addTo(myMap);

        // ටවර් එක ඇඩ් කරන Function එක
        function addTower(lat, lng, name, cellDetails) {
            var marker = L.marker([lat, lng]).addTo(myMap);
            marker.bindPopup(`
                <div class="popup-title">${name}</div>
                <table class="tower-table">
                    <tr>
                        <th>PCI</th>
                        <th>Cell ID</th>
                        <th>Bands</th>
                    </tr>
                    ${cellDetails}
                </table>
                <p style="font-size:10px; color:gray; margin-top:10px;">Coordinates: ${lat}, ${lng}</p>
            `).openPopup(); // මැප් එක ලෝඩ් වෙද්දීම Popup එක ඇරිලා තියෙන්න
        }

        // --- වඩුඩුව ටවර් එකේ දත්ත පමණි ---
        addTower(6.6565, 79.9355, "Wadduwa Town Tower", `
            <tr><td>142</td><td>25410</td><td>B3 (1800)</td></tr>
            <tr><td>143</td><td>25411</td><td>B1 (2100)</td></tr>
            <tr><td>88</td><td>25412</td><td>B8 (900)</td></tr>
        `);

    </script>
</body>
</html>
